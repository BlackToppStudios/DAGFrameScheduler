<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Mezzanine::Threading::FrameScheduler Class Reference</title>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="DoxyStyle.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<div id="top"><!-- do not remove this div! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;" nowrap="nowrap">
   <div id="projectname"><a href="http://blacktoppstudios.com"><img src="logogreen100pxtall.png"></a>DAGFrameScheduler&#160;<span id="projectnumber">November 2012</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespaceMezzanine.html">Mezzanine</a>      </li>
      <li class="navelem"><a class="el" href="namespaceMezzanine_1_1Threading.html">Threading</a>      </li>
      <li class="navelem"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html">FrameScheduler</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-types">Protected Types</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#friends">Friends</a>  </div>
  <div class="headertitle">
<div class="title">Mezzanine::Threading::FrameScheduler Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="Mezzanine::Threading::FrameScheduler" -->
<p>This is central object in this algorithm, it is responsible for spawning threads and managing the order that work units are executed.  
 <a href="classMezzanine_1_1Threading_1_1FrameScheduler.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="framescheduler_8h_source.html">framescheduler.h</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for Mezzanine::Threading::FrameScheduler:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classMezzanine_1_1Threading_1_1FrameScheduler__coll__graph.svg" width="100%" height="374"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classMezzanine_1_1Threading_1_1FrameScheduler-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a34ed4a9fd82b7f40af5d288462dc1754">FrameScheduler</a> (std::fstream *_LogDestination=new std::fstream(&quot;Log.txt&quot;, std::ios::out|std::ios::app), <a class="el" href="namespaceMezzanine.html#a493d0c130650b4bf1c4f793ba191cec2">Whole</a> StartingThreadCount=<a class="el" href="namespaceMezzanine.html#afc972295dbb71a9a6c2f57d5290caf46">GetCPUCount</a>())</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a Framescheduler that owns a filestream for logging.  <a href="#a34ed4a9fd82b7f40af5d288462dc1754"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#aa216416f31cab79eb433f4d76d48fe13">FrameScheduler</a> (std::ostream *_LogDestination, <a class="el" href="namespaceMezzanine.html#a493d0c130650b4bf1c4f793ba191cec2">Whole</a> StartingThreadCount=<a class="el" href="namespaceMezzanine.html#afc972295dbb71a9a6c2f57d5290caf46">GetCPUCount</a>())</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a Framescheduler, that logs to an unowned stream.  <a href="#aa216416f31cab79eb433f4d76d48fe13"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a1045e9a709d7366dded6cc670d474491">~FrameScheduler</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="#a1045e9a709d7366dded6cc670d474491"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#ade0d8966dff2c1fb2a87214a8069abf9">AddWorkUnit</a> (<a class="el" href="classMezzanine_1_1Threading_1_1iWorkUnit.html">iWorkUnit</a> *MoreWork)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a normal <a class="el" href="classMezzanine_1_1Threading_1_1iWorkUnit.html">iWorkUnit</a> to this For fcheduling.  <a href="#ade0d8966dff2c1fb2a87214a8069abf9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a9b910ace4574464bd2a5c7741a0d729c">AddWorkUnitAffinity</a> (<a class="el" href="classMezzanine_1_1Threading_1_1iWorkUnit.html">iWorkUnit</a> *MoreWork)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a normal <a class="el" href="classMezzanine_1_1Threading_1_1iWorkUnit.html">iWorkUnit</a> to this For scheduling.  <a href="#a9b910ace4574464bd2a5c7741a0d729c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#abdc9197afda420e075dc35e585c138fe">AddWorkUnitMonopoly</a> (<a class="el" href="classMezzanine_1_1Threading_1_1MonopolyWorkUnit.html">MonopolyWorkUnit</a> *MoreWork)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a <a class="el" href="classMezzanine_1_1Threading_1_1MonopolyWorkUnit.html">MonopolyWorkUnit</a> for execution at the beginning of the frame.  <a href="#abdc9197afda420e075dc35e585c138fe"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#ae02f5ee5a78466652c0740109e919573">AreAllWorkUnitsComplete</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Is the work of the Frame Done?  <a href="#ae02f5ee5a78466652c0740109e919573"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#aa2cc09939a4779cbb6c0affcb0b1431e">CreateThreads</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the 2nd step (of 6) in a frame.  <a href="#aa2cc09939a4779cbb6c0affcb0b1431e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a93e8f9d384197837fcf8fc0f3c058a5c">DoOneFrame</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Do one frame worth of work.  <a href="#a93e8f9d384197837fcf8fc0f3c058a5c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespaceMezzanine.html#ad7ab1b85229be184e16d96c505143f9b">MaxInt</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#acdd48a3537a712b752ef6c44c94ae0cc">GetCurrentFrameStart</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">When did this frame start?  <a href="#acdd48a3537a712b752ef6c44c94ae0cc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespaceMezzanine.html#a493d0c130650b4bf1c4f793ba191cec2">Whole</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#adb40c934bc679ccf069af19d9dec32df">GetDependentCountOf</a> (<a class="el" href="classMezzanine_1_1Threading_1_1iWorkUnit.html">iWorkUnit</a> *Work, bool UsedCachedDepedentGraph=false)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">How many other WorkUnit instances must wait on this one.  <a href="#adb40c934bc679ccf069af19d9dec32df"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespaceMezzanine.html#a493d0c130650b4bf1c4f793ba191cec2">Whole</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a3d2a83c6411e7c5686c68cfc982b8236">GetFrameCount</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current number of frames that have elapsed.  <a href="#a3d2a83c6411e7c5686c68cfc982b8236"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7af749e5eb3f5d53cc9b3fc122a03af6"></a><!-- doxytag: member="Mezzanine::Threading::FrameScheduler::GetFrameLength" ref="a7af749e5eb3f5d53cc9b3fc122a03af6" args="() const " -->
virtual <a class="el" href="namespaceMezzanine.html#a493d0c130650b4bf1c4f793ba191cec2">Whole</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a7af749e5eb3f5d53cc9b3fc122a03af6">GetFrameLength</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the desired length of a a frame. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classMezzanine_1_1Threading_1_1iWorkUnit.html">iWorkUnit</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#ad4b969aa874a74fa503518d5e0b3a3bc">GetNextWorkUnit</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the next available workunit for execution.  <a href="#ad4b969aa874a74fa503518d5e0b3a3bc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classMezzanine_1_1Threading_1_1iWorkUnit.html">iWorkUnit</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a63ecabada780522819ca611399e806c6">GetNextWorkUnitAffinity</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Just like <a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#ad4b969aa874a74fa503518d5e0b3a3bc">GetNextWorkUnit</a> except that it searchs through and prioritizes work units with affinity.  <a href="#a63ecabada780522819ca611399e806c6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespaceMezzanine.html#a493d0c130650b4bf1c4f793ba191cec2">Whole</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a45299a4ebe34674b09c7b40ccccae8ce">GetThreadCount</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the amount of threads that will be used to execute WorkUnits a the start of the next frame.  <a href="#a45299a4ebe34674b09c7b40ccccae8ce"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a96d872719e50177ac5028c43bf68de21">JoinAllThreads</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the 4th step (of 6) in a frame.  <a href="#a96d872719e50177ac5028c43bf68de21"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#ae3d34cfcbafae9a60f43b0b6f81aabbe">RemoveWorkUnit</a> (<a class="el" href="classMezzanine_1_1Threading_1_1iWorkUnit.html">iWorkUnit</a> *LessWork)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a WorkUnit, and caller regains ownership of it.  <a href="#ae3d34cfcbafae9a60f43b0b6f81aabbe"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#af11e18b5ea39b77fee60c3a3d0e65bd4">ResetAllWorkUnits</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the 5th step (of 6) in a frame.  <a href="#af11e18b5ea39b77fee60c3a3d0e65bd4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#ac8dfbc810d2d24bf4c5ba4bec6c08b5c">RunAllMonopolies</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the 1st step (of 6) in a frame.  <a href="#ac8dfbc810d2d24bf4c5ba4bec6c08b5c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a27b7bda2596fbbf669143688398f1fa5">RunMainThreadWork</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the 3rd step (of 6) in a frame.  <a href="#a27b7bda2596fbbf669143688398f1fa5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#ac8e0872f75c8fecf19c452a478ea6234">SetFrameLength</a> (<a class="el" href="namespaceMezzanine.html#a493d0c130650b4bf1c4f793ba191cec2">Whole</a> FrameLength)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the Desired length of a frame in microseconds.  <a href="#ac8e0872f75c8fecf19c452a478ea6234"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a4f018d5cd5f64a25dddd274068177add">SetFrameRate</a> (<a class="el" href="namespaceMezzanine.html#a493d0c130650b4bf1c4f793ba191cec2">Whole</a> FrameRate)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the desired Frate rate.  <a href="#a4f018d5cd5f64a25dddd274068177add"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a810bda1947bafd31168e02d391b709ad">SetThreadCount</a> (<a class="el" href="namespaceMezzanine.html#a493d0c130650b4bf1c4f793ba191cec2">Whole</a> NewThreadCount)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the amount of thread to use.  <a href="#a810bda1947bafd31168e02d391b709ad"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a80628895bdad74d03e5ac3b247e58741">SortWorkUnitsAffinity</a> (bool UpdateDependentGraph_=true)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sort the WorkUnits that must run on the main thread to allow them to be used more efficiently in the next frame executed.  <a href="#a80628895bdad74d03e5ac3b247e58741"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a518ad64baf64d3dde2819aa580055249">SortWorkUnitsAll</a> (bool UpdateDependentGraph_=true)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sort all the WorkUnits that must run on the main thread to allow them to be used more efficiently in the next frame executed.  <a href="#a518ad64baf64d3dde2819aa580055249"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a9f2e92ae7cbd9e4179da6aa895d766fe">SortWorkUnitsMain</a> (bool UpdateDependentGraph_=true)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sort the the main pool of WorkUnits to allow them to be used more efficiently in the next frame executed.  <a href="#a9f2e92ae7cbd9e4179da6aa895d766fe"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#aabdf0812101f82b466affd6f67524226">UpdateDependentGraph</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a reverse depedent graph that can be used for sorting <a class="el" href="classMezzanine_1_1Threading_1_1iWorkUnit.html">iWorkUnit</a>s to optimize execution each frame.  <a href="#aabdf0812101f82b466affd6f67524226"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#ac5babf56caf6f2a1bddfa461b9e999b2">WaitUntilNextFrame</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the final step (of 6) in a frame.  <a href="#ac5babf56caf6f2a1bddfa461b9e999b2"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4455ca06523e2c66662e0db1ad01c344"></a><!-- doxytag: member="Mezzanine::Threading::FrameScheduler::EndFrameSync" ref="a4455ca06523e2c66662e0db1ad01c344" args="" -->
<a class="el" href="classMezzanine_1_1Threading_1_1Barrier.html">Barrier</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a4455ca06523e2c66662e0db1ad01c344">EndFrameSync</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to synchronize the starting an stopping of all threads after work is done before the frame ends. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9e39e9398299781251e9acfd0049560a"></a><!-- doxytag: member="Mezzanine::Threading::FrameScheduler::LastFrame" ref="a9e39e9398299781251e9acfd0049560a" args="" -->
<a class="el" href="namespaceMezzanine.html#a590a2f3eb4a187e1b25209e546e540e1">Int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a9e39e9398299781251e9acfd0049560a">LastFrame</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">When using barriers instead of thread creation for synchronization this is what tells the threads to end. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2de903c082808da70dbf6f8420f45e86"></a><!-- doxytag: member="Mezzanine::Threading::FrameScheduler::StartFrameSync" ref="a2de903c082808da70dbf6f8420f45e86" args="" -->
<a class="el" href="classMezzanine_1_1Threading_1_1Barrier.html">Barrier</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a2de903c082808da70dbf6f8420f45e86">StartFrameSync</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to synchronize the starting an stopping of all threads before the frame starts. <br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-types"></a>
Protected Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af4a05091447afb8186d6fe46878d3de6"></a><!-- doxytag: member="Mezzanine::Threading::FrameScheduler::DependentGraphType" ref="af4a05091447afb8186d6fe46878d3de6" args="" -->
typedef std::map&lt; <a class="el" href="classMezzanine_1_1Threading_1_1iWorkUnit.html">iWorkUnit</a> <br class="typebreak"/>
*, std::set&lt; <a class="el" href="classMezzanine_1_1Threading_1_1iWorkUnit.html">iWorkUnit</a> * &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#af4a05091447afb8186d6fe46878d3de6">DependentGraphType</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">A structure designed to minimalistically represent Dependency and Reverse Dependency Graphs in work units. <br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abdce245f524a924465319eac717ade6b"></a><!-- doxytag: member="Mezzanine::Threading::FrameScheduler::CleanUpThreads" ref="abdce245f524a924465319eac717ade6b" args="()" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#abdce245f524a924465319eac717ade6b">CleanUpThreads</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Used in destruction to tear down threads. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a57da35b4670733d62dfd7baaf3af3c90"></a><!-- doxytag: member="Mezzanine::Threading::FrameScheduler::DeleteThreads" ref="a57da35b4670733d62dfd7baaf3af3c90" args="()" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a57da35b4670733d62dfd7baaf3af3c90">DeleteThreads</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Simply iterates over and deletes everything in Threads. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#ad10391522f786d4b5644362aa5e75897">GetLog</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the endpoint for the logs.  <a href="#ad10391522f786d4b5644362aa5e75897"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#aba3be4eae7e87a5021fc33c2edefaa04">UpdateDependentGraph</a> (const std::vector&lt; <a class="el" href="classMezzanine_1_1Threading_1_1WorkUnitKey.html">WorkUnitKey</a> &gt; &amp;Units)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds the dependencies of the <a class="el" href="classMezzanine_1_1Threading_1_1iWorkUnit.html">iWorkUnit</a>s in the passed containter to the the internal reverse dependency graph.  <a href="#aba3be4eae7e87a5021fc33c2edefaa04"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a1743f13fdd9ef1445495ab0e24025765">UpdateWorkUnitKeys</a> (std::vector&lt; <a class="el" href="classMezzanine_1_1Threading_1_1WorkUnitKey.html">WorkUnitKey</a> &gt; &amp;Units)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Iterate over the passed container of <a class="el" href="classMezzanine_1_1Threading_1_1WorkUnitKey.html">WorkUnitKey</a>s and refresh them with the correct data from their respective <a class="el" href="classMezzanine_1_1Threading_1_1iWorkUnit.html">iWorkUnit</a>s.  <a href="#a1743f13fdd9ef1445495ab0e24025765"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2c2540f09e443e7d9f8bd2ed48354f93"></a><!-- doxytag: member="Mezzanine::Threading::FrameScheduler::CurrentFrameStart" ref="a2c2540f09e443e7d9f8bd2ed48354f93" args="" -->
<a class="el" href="namespaceMezzanine.html#ad7ab1b85229be184e16d96c505143f9b">MaxInt</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a2c2540f09e443e7d9f8bd2ed48354f93">CurrentFrameStart</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">What time did the current Frame Start at. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a57b119db75cf6fbde2fbfccf60700d41"></a><!-- doxytag: member="Mezzanine::Threading::FrameScheduler::CurrentThreadCount" ref="a57b119db75cf6fbde2fbfccf60700d41" args="" -->
<a class="el" href="namespaceMezzanine.html#a493d0c130650b4bf1c4f793ba191cec2">Whole</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a57b119db75cf6fbde2fbfccf60700d41">CurrentThreadCount</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">How many threads will this try to execute with in the next frame. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8f5323275279b77706e2d2955bc43a8a"></a><!-- doxytag: member="Mezzanine::Threading::FrameScheduler::DecacheAffinity" ref="a8f5323275279b77706e2d2955bc43a8a" args="" -->
<a class="el" href="namespaceMezzanine.html#a590a2f3eb4a187e1b25209e546e540e1">Int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a8f5323275279b77706e2d2955bc43a8a">DecacheAffinity</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates the begining of work that must be searched when starting a fresh search for work in WorkUnitsAffinity. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2e0140f2287543f035991c6ce0ff871e"></a><!-- doxytag: member="Mezzanine::Threading::FrameScheduler::DecacheMain" ref="a2e0140f2287543f035991c6ce0ff871e" args="" -->
<a class="el" href="namespaceMezzanine.html#a590a2f3eb4a187e1b25209e546e540e1">Int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a2e0140f2287543f035991c6ce0ff871e">DecacheMain</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates the begining of work that must be searched when starting a fresh search for work in WorkUnitsMain. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#af4a05091447afb8186d6fe46878d3de6">DependentGraphType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a3480908d1f06458466b312857570e3cf">DependentGraph</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This structure allows reverse lookup of dependencies.  <a href="#a3480908d1f06458466b312857570e3cf"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceMezzanine.html#a493d0c130650b4bf1c4f793ba191cec2">Whole</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#ad4d36e8edc6bb1a6a41fe7d8663648a8">FrameCount</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to store a count of frames from the begining of game execution.  <a href="#ad4d36e8edc6bb1a6a41fe7d8663648a8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4991c125aa7248299c972ed03f4761dd"></a><!-- doxytag: member="Mezzanine::Threading::FrameScheduler::LogDestination" ref="a4991c125aa7248299c972ed03f4761dd" args="" -->
std::ostream *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a4991c125aa7248299c972ed03f4761dd">LogDestination</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">When the logs are aggregated, this is where they are sent. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a19c6d385c64e59726136e8a0ef3f3680"></a><!-- doxytag: member="Mezzanine::Threading::FrameScheduler::LoggingToAnOwnedFileStream" ref="a19c6d385c64e59726136e8a0ef3f3680" args="" -->
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a19c6d385c64e59726136e8a0ef3f3680">LoggingToAnOwnedFileStream</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set based on which constructor is called, and only used during destruction. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::vector<br class="typebreak"/>
&lt; <a class="el" href="structMezzanine_1_1Threading_1_1DefaultThreadSpecificStorage.html#a896916be2a41f29a6311ebee7a5f7aab">DefaultThreadSpecificStorage::Type</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a4c5adabd75af9115c207f8c2f34866e8">Resources</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This maintains ownership of all the thread specific resources.  <a href="#a4c5adabd75af9115c207f8c2f34866e8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a632a70725a4c9a48ded24dd38652beb3"></a><!-- doxytag: member="Mezzanine::Threading::FrameScheduler::Sorter" ref="a632a70725a4c9a48ded24dd38652beb3" args="" -->
<a class="el" href="classMezzanine_1_1Threading_1_1WorkSorter.html">WorkSorter</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a632a70725a4c9a48ded24dd38652beb3">Sorter</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">If this pointer is non-zero then the <a class="el" href="classMezzanine_1_1Threading_1_1WorkSorter.html">WorkSorter</a> it points at will be used to sort WorkUnits. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7001be079381b43292fdcf1089fd81d7"></a><!-- doxytag: member="Mezzanine::Threading::FrameScheduler::TargetFrameLength" ref="a7001be079381b43292fdcf1089fd81d7" args="" -->
<a class="el" href="namespaceMezzanine.html#a493d0c130650b4bf1c4f793ba191cec2">Whole</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a7001be079381b43292fdcf1089fd81d7">TargetFrameLength</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The Maximum frame rate this algorithm should run at. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classMezzanine_1_1Threading_1_1Thread.html">Thread</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#aaff58e33e8837a2aad9391a9d6a0dc84">Threads</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">A way to track an arbitrary number of threads.  <a href="#aaff58e33e8837a2aad9391a9d6a0dc84"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae1494801b8b8c6f041d19abd9a332e46"></a><!-- doxytag: member="Mezzanine::Threading::FrameScheduler::TimingCostAllowance" ref="ae1494801b8b8c6f041d19abd9a332e46" args="" -->
<a class="el" href="namespaceMezzanine.html#ad03e394cd98434cc30bc665e8f2ba30f">Integer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#ae1494801b8b8c6f041d19abd9a332e46">TimingCostAllowance</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">To prevent frame time drift this many microseconds is subtracted from the wait period to allow time for calculations. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a794eea3f815618c891e673f59747ffa8"></a><!-- doxytag: member="Mezzanine::Threading::FrameScheduler::WorkUnitMonopolies" ref="a794eea3f815618c891e673f59747ffa8" args="" -->
std::vector&lt; <a class="el" href="classMezzanine_1_1Threading_1_1MonopolyWorkUnit.html">MonopolyWorkUnit</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a794eea3f815618c891e673f59747ffa8">WorkUnitMonopolies</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">A collection of all the monopolies this scheduler must run and keep ownership of. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classMezzanine_1_1Threading_1_1WorkUnitKey.html">WorkUnitKey</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a83bf2421d69556aa4d1a2efc6f88290d">WorkUnitsAffinity</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">A collection of <a class="el" href="classMezzanine_1_1Threading_1_1iWorkUnit.html">iWorkUnit</a>s that must be run on the main thread.  <a href="#a83bf2421d69556aa4d1a2efc6f88290d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classMezzanine_1_1Threading_1_1WorkUnitKey.html">WorkUnitKey</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#af5c99359d324eb79b9080464b32be098">WorkUnitsMain</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">A collection of all the work units that are not Monopolies and do not have affinity for a given thread.  <a href="#af5c99359d324eb79b9080464b32be098"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="friends"></a>
Friends</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acafe25b38dc18e853ffbe4b0aeb6073e"></a><!-- doxytag: member="Mezzanine::Threading::FrameScheduler::LogAggregator" ref="acafe25b38dc18e853ffbe4b0aeb6073e" args="" -->
class&#160;</td><td class="memItemRight" valign="bottom"><b>LogAggregator</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a26fdc16c275c5a1057ea49375019492c"></a><!-- doxytag: member="Mezzanine::Threading::FrameScheduler::LogBufferSwapper" ref="a26fdc16c275c5a1057ea49375019492c" args="" -->
class&#160;</td><td class="memItemRight" valign="bottom"><b>LogBufferSwapper</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad0122c0f9d482a5a2cea5cc9d4f3847d"></a><!-- doxytag: member="Mezzanine::Threading::FrameScheduler::WorkSorter" ref="ad0122c0f9d482a5a2cea5cc9d4f3847d" args="" -->
class&#160;</td><td class="memItemRight" valign="bottom"><b>WorkSorter</b></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>This is central object in this algorithm, it is responsible for spawning threads and managing the order that work units are executed. </p>
<p>For a detailed description of the <a class="el" href="index.html#algorithm_sec">Algorithm</a> this implements see the <a class="el" href="index.html#algorithm_sec">Algorithm</a> section on the Main page. </p>

<p>Definition at line <a class="el" href="framescheduler_8h_source.html#l00075">75</a> of file <a class="el" href="framescheduler_8h_source.html">framescheduler.h</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a34ed4a9fd82b7f40af5d288462dc1754"></a><!-- doxytag: member="Mezzanine::Threading::FrameScheduler::FrameScheduler" ref="a34ed4a9fd82b7f40af5d288462dc1754" args="(std::fstream *_LogDestination=new std::fstream(&quot;Log.txt&quot;, std::ios::out|std::ios::app), Whole StartingThreadCount=GetCPUCount())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a34ed4a9fd82b7f40af5d288462dc1754">Mezzanine::Threading::FrameScheduler::FrameScheduler</a> </td>
          <td>(</td>
          <td class="paramtype">std::fstream *&#160;</td>
          <td class="paramname"><em>_LogDestination</em> = <code>new&#160;std::fstream(&quot;Log.txt&quot;,&#160;std::ios::out&#160;|&#160;std::ios::app)</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceMezzanine.html#a493d0c130650b4bf1c4f793ba191cec2">Whole</a>&#160;</td>
          <td class="paramname"><em>StartingThreadCount</em> = <code><a class="el" href="namespaceMezzanine.html#afc972295dbb71a9a6c2f57d5290caf46">GetCPUCount</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create a Framescheduler that owns a filestream for logging. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">_LogDestination</td><td>An fstream that will be closed and deleted when this framescheduler is destroyed. Defaults to a new Filestream Logging to 'Log.txt'. </td></tr>
    <tr><td class="paramname">StartingThreadCount</td><td>How many threadsDefaults to 1. </td></tr>
  </table>
  </dd>
</dl>
<dl class="warning"><dt><b>Warning:</b></dt><dd>This must be constructed from the Main(only) thread for any features with thread affinity to work correctly. </dd></dl>

<p>Definition at line <a class="el" href="framescheduler_8cpp_source.html#l00166">166</a> of file <a class="el" href="framescheduler_8cpp_source.html">framescheduler.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aa216416f31cab79eb433f4d76d48fe13"></a><!-- doxytag: member="Mezzanine::Threading::FrameScheduler::FrameScheduler" ref="aa216416f31cab79eb433f4d76d48fe13" args="(std::ostream *_LogDestination, Whole StartingThreadCount=GetCPUCount())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a34ed4a9fd82b7f40af5d288462dc1754">Mezzanine::Threading::FrameScheduler::FrameScheduler</a> </td>
          <td>(</td>
          <td class="paramtype">std::ostream *&#160;</td>
          <td class="paramname"><em>_LogDestination</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceMezzanine.html#a493d0c130650b4bf1c4f793ba191cec2">Whole</a>&#160;</td>
          <td class="paramname"><em>StartingThreadCount</em> = <code><a class="el" href="namespaceMezzanine.html#afc972295dbb71a9a6c2f57d5290caf46">GetCPUCount</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create a Framescheduler, that logs to an unowned stream. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">_LogDestination</td><td>Any stream, other than an fstream, and it will be closed (not deleted) when this frame scheduler is destroyed. </td></tr>
    <tr><td class="paramname">StartingThreadCount</td><td>How many threadsDefaults to 1. </td></tr>
  </table>
  </dd>
</dl>
<dl class="warning"><dt><b>Warning:</b></dt><dd>This must be constructed from the Main(only) thread for any features with thread affinity to work correctly. </dd></dl>

<p>Definition at line <a class="el" href="framescheduler_8cpp_source.html#l00185">185</a> of file <a class="el" href="framescheduler_8cpp_source.html">framescheduler.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a1045e9a709d7366dded6cc670d474491"></a><!-- doxytag: member="Mezzanine::Threading::FrameScheduler::~FrameScheduler" ref="a1045e9a709d7366dded6cc670d474491" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a1045e9a709d7366dded6cc670d474491">Mezzanine::Threading::FrameScheduler::~FrameScheduler</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Destructor. </p>
<p>Deletes all std::fstream, WorkUnit, <a class="el" href="classMezzanine_1_1Threading_1_1MonopolyWorkUnit.html" title="A kind of workunit given exclusive runtime so it can consume time on multiple threads.">MonopolyWorkUnit</a> and <a class="el" href="classMezzanine_1_1Threading_1_1ThreadSpecificStorage.html" title="A thread specific collection of double-buffered and algorithm specific resources.">ThreadSpecificStorage</a> objects that this was passed or created during its lifetime. </p>

<p>Definition at line <a class="el" href="framescheduler_8cpp_source.html#l00204">204</a> of file <a class="el" href="framescheduler_8cpp_source.html">framescheduler.cpp</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ade0d8966dff2c1fb2a87214a8069abf9"></a><!-- doxytag: member="Mezzanine::Threading::FrameScheduler::AddWorkUnit" ref="ade0d8966dff2c1fb2a87214a8069abf9" args="(iWorkUnit *MoreWork)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#ade0d8966dff2c1fb2a87214a8069abf9">Mezzanine::Threading::FrameScheduler::AddWorkUnit</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMezzanine_1_1Threading_1_1iWorkUnit.html">iWorkUnit</a> *&#160;</td>
          <td class="paramname"><em>MoreWork</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add a normal <a class="el" href="classMezzanine_1_1Threading_1_1iWorkUnit.html">iWorkUnit</a> to this For fcheduling. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">MoreWork</td><td>A pointer the the WorkUnit, that the <a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html" title="This is central object in this algorithm, it is responsible for spawning threads and managing the ord...">FrameScheduler</a> will take ownership of, and schedule for work. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="framescheduler_8cpp_source.html#l00224">224</a> of file <a class="el" href="framescheduler_8cpp_source.html">framescheduler.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a9b910ace4574464bd2a5c7741a0d729c"></a><!-- doxytag: member="Mezzanine::Threading::FrameScheduler::AddWorkUnitAffinity" ref="a9b910ace4574464bd2a5c7741a0d729c" args="(iWorkUnit *MoreWork)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a9b910ace4574464bd2a5c7741a0d729c">Mezzanine::Threading::FrameScheduler::AddWorkUnitAffinity</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMezzanine_1_1Threading_1_1iWorkUnit.html">iWorkUnit</a> *&#160;</td>
          <td class="paramname"><em>MoreWork</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add a normal <a class="el" href="classMezzanine_1_1Threading_1_1iWorkUnit.html">iWorkUnit</a> to this For scheduling. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">MoreWork</td><td>A pointer the the WorkUnit, that the <a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html" title="This is central object in this algorithm, it is responsible for spawning threads and managing the ord...">FrameScheduler</a> will take ownership of, and schedule for work. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="framescheduler_8cpp_source.html#l00227">227</a> of file <a class="el" href="framescheduler_8cpp_source.html">framescheduler.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="abdc9197afda420e075dc35e585c138fe"></a><!-- doxytag: member="Mezzanine::Threading::FrameScheduler::AddWorkUnitMonopoly" ref="abdc9197afda420e075dc35e585c138fe" args="(MonopolyWorkUnit *MoreWork)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#abdc9197afda420e075dc35e585c138fe">Mezzanine::Threading::FrameScheduler::AddWorkUnitMonopoly</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMezzanine_1_1Threading_1_1MonopolyWorkUnit.html">MonopolyWorkUnit</a> *&#160;</td>
          <td class="paramname"><em>MoreWork</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add a <a class="el" href="classMezzanine_1_1Threading_1_1MonopolyWorkUnit.html">MonopolyWorkUnit</a> for execution at the beginning of the frame. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">MoreWork</td><td>A pointer to the <a class="el" href="classMezzanine_1_1Threading_1_1MonopolyWorkUnit.html">MonopolyWorkUnit</a> to add. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="framescheduler_8cpp_source.html#l00230">230</a> of file <a class="el" href="framescheduler_8cpp_source.html">framescheduler.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ae02f5ee5a78466652c0740109e919573"></a><!-- doxytag: member="Mezzanine::Threading::FrameScheduler::AreAllWorkUnitsComplete" ref="ae02f5ee5a78466652c0740109e919573" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#ae02f5ee5a78466652c0740109e919573">Mezzanine::Threading::FrameScheduler::AreAllWorkUnitsComplete</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Is the work of the Frame Done? </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>This returns true if all the WorkUnit instances are complete, and false otherwise. </dd></dl>

<p>Definition at line <a class="el" href="framescheduler_8cpp_source.html#l00375">375</a> of file <a class="el" href="framescheduler_8cpp_source.html">framescheduler.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aa2cc09939a4779cbb6c0affcb0b1431e"></a><!-- doxytag: member="Mezzanine::Threading::FrameScheduler::CreateThreads" ref="aa2cc09939a4779cbb6c0affcb0b1431e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#aa2cc09939a4779cbb6c0affcb0b1431e">Mezzanine::Threading::FrameScheduler::CreateThreads</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This is the 2nd step (of 6) in a frame. </p>
<p>This starts all the threads on their work. Until <a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a96d872719e50177ac5028c43bf68de21">JoinAllThreads()</a> is called some thread may still be working. This thread starts the man <a class="el" href="index.html#algorithm_sec">scheduling algorithm</a> working on every thread except the calling thread. This call does not block and tends to return very quickly. <br/>
 <br/>
 This checks the amount of threads as set by <a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#ac8e0872f75c8fecf19c452a478ea6234">SetFrameLength(Whole)</a>. It creates any <a class="el" href="classMezzanine_1_1Threading_1_1ThreadSpecificStorage.html">ThreadSpecificStorage</a> instances required and creates threads if they are required. If the build option <a class="el" href="compilerthreadcompat_8h.html#a922f06bad05fd18425c1c933801686d3">MEZZ_USEBARRIERSEACHFRAME</a> Mezz_MinimizeThreadsEachFrame was enabled then this will reuse threads from previous frames, otherwise this will re-use thread specific resources and create a new set of threads. Re-use of threads is synchronized with the <a class="el" href="classMezzanine_1_1Threading_1_1Barrier.html">Barrier</a> StartFrameSync member variable. It is unclear, and likely platform specific, which option has better performance characteristics. </p>
<dl class="warning"><dt><b>Warning:</b></dt><dd>While this is running any changes to the <a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html">FrameScheduler</a> be made with an atomic operation like the <a class="el" href="namespaceMezzanine_1_1Threading.html#a176b8e4ae356f3bfb7630c4819fa021b">AtomicCompareAndSwap32</a> or <a class="el" href="namespaceMezzanine_1_1Threading.html#a7d13f167b7b993e5c5cabe560ac42f8d">AtomicAdd</a>. Any other threads <a class="el" href="classMezzanine_1_1Threading_1_1ThreadSpecificStorage.html">ThreadSpecificStorage</a> or workunit may be accessed as long as they are protected by some kind of synchronization mechanism. </dd></dl>

<p>Definition at line <a class="el" href="framescheduler_8cpp_source.html#l00452">452</a> of file <a class="el" href="framescheduler_8cpp_source.html">framescheduler.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a93e8f9d384197837fcf8fc0f3c058a5c"></a><!-- doxytag: member="Mezzanine::Threading::FrameScheduler::DoOneFrame" ref="a93e8f9d384197837fcf8fc0f3c058a5c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a93e8f9d384197837fcf8fc0f3c058a5c">Mezzanine::Threading::FrameScheduler::DoOneFrame</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Do one frame worth of work. </p>
<p>This just calls the following functions in the order presented: </p>
<div class="fragment"><pre class="fragment"> <span class="keywordtype">void</span> <a class="code" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a93e8f9d384197837fcf8fc0f3c058a5c" title="Do one frame worth of work.">FrameScheduler::DoOneFrame</a>()
 {
   <a class="code" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#ac8dfbc810d2d24bf4c5ba4bec6c08b5c" title="This is the 1st step (of 6) in a frame.">RunAllMonopolies</a>();
   <a class="code" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#aa2cc09939a4779cbb6c0affcb0b1431e" title="This is the 2nd step (of 6) in a frame.">CreateThreads</a>();
   <a class="code" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a27b7bda2596fbbf669143688398f1fa5" title="This is the 3rd step (of 6) in a frame.">RunMainThreadWork</a>();
   <a class="code" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a96d872719e50177ac5028c43bf68de21" title="This is the 4th step (of 6) in a frame.">JoinAllThreads</a>();
   <a class="code" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#af11e18b5ea39b77fee60c3a3d0e65bd4" title="This is the 5th step (of 6) in a frame.">ResetAllWorkUnits</a>();
   <a class="code" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#ac5babf56caf6f2a1bddfa461b9e999b2" title="This is the final step (of 6) in a frame.">WaitUntilNextFrame</a>();
 }
</pre></div><p> This can be replaced calling these functions in this order. You can add any other calls you like between the various stages. This can be done to allow maximum integration with existing projects. It can also be used to prevent a giant migration and replace it with a piecemeal upgrade. </p>
<dl class="warning"><dt><b>Warning:</b></dt><dd>Do not call this on an unsorted set of WorkUnits. Use <a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a518ad64baf64d3dde2819aa580055249">FrameScheduler::SortWorkUnitsAll()</a> and the <a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a3480908d1f06458466b312857570e3cf">DependentGraph</a> to sort WorkUnits after They are inserted into the frame scheduler for the first time. This doesn't need to happen each frame, just after any new work units are added or removed (except Monopolies). </dd></dl>

<p>Definition at line <a class="el" href="framescheduler_8cpp_source.html#l00436">436</a> of file <a class="el" href="framescheduler_8cpp_source.html">framescheduler.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="acdd48a3537a712b752ef6c44c94ae0cc"></a><!-- doxytag: member="Mezzanine::Threading::FrameScheduler::GetCurrentFrameStart" ref="acdd48a3537a712b752ef6c44c94ae0cc" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceMezzanine.html#ad7ab1b85229be184e16d96c505143f9b">MaxInt</a> <a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#acdd48a3537a712b752ef6c44c94ae0cc">Mezzanine::Threading::FrameScheduler::GetCurrentFrameStart</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>When did this frame start? </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>A MaxInt with the timestamp corresponding to when this frame started. </dd></dl>

<p>Definition at line <a class="el" href="framescheduler_8cpp_source.html#l00430">430</a> of file <a class="el" href="framescheduler_8cpp_source.html">framescheduler.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="adb40c934bc679ccf069af19d9dec32df"></a><!-- doxytag: member="Mezzanine::Threading::FrameScheduler::GetDependentCountOf" ref="adb40c934bc679ccf069af19d9dec32df" args="(iWorkUnit *Work, bool UsedCachedDepedentGraph=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceMezzanine.html#a493d0c130650b4bf1c4f793ba191cec2">Whole</a> <a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#adb40c934bc679ccf069af19d9dec32df">Mezzanine::Threading::FrameScheduler::GetDependentCountOf</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMezzanine_1_1Threading_1_1iWorkUnit.html">iWorkUnit</a> *&#160;</td>
          <td class="paramname"><em>Work</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>UsedCachedDepedentGraph</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>How many other WorkUnit instances must wait on this one. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">Work</td><td>The WorkUnit to get the Updated count of. </td></tr>
    <tr><td class="paramname">UsedCachedDepedentGraph</td><td>If the cache is already up to date leaving this false, and not updating it can save significant time. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A Whole Number representing the amount of WorkUnit instances that cannot start until this finishes. </dd></dl>

<p>Definition at line <a class="el" href="framescheduler_8cpp_source.html#l00292">292</a> of file <a class="el" href="framescheduler_8cpp_source.html">framescheduler.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a3d2a83c6411e7c5686c68cfc982b8236"></a><!-- doxytag: member="Mezzanine::Threading::FrameScheduler::GetFrameCount" ref="a3d2a83c6411e7c5686c68cfc982b8236" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceMezzanine.html#a493d0c130650b4bf1c4f793ba191cec2">Whole</a> <a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a3d2a83c6411e7c5686c68cfc982b8236">Mezzanine::Threading::FrameScheduler::GetFrameCount</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the current number of frames that have elapsed. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>A Whole containing the Frame Count. </dd></dl>

<p>Definition at line <a class="el" href="framescheduler_8cpp_source.html#l00407">407</a> of file <a class="el" href="framescheduler_8cpp_source.html">framescheduler.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ad10391522f786d4b5644362aa5e75897"></a><!-- doxytag: member="Mezzanine::Threading::FrameScheduler::GetLog" ref="ad10391522f786d4b5644362aa5e75897" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::ostream &amp; <a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#ad10391522f786d4b5644362aa5e75897">Mezzanine::Threading::FrameScheduler::GetLog</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the endpoint for the logs. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>An std:ostream reference which can be streame to commit log entries. </dd></dl>

<p>Definition at line <a class="el" href="framescheduler_8cpp_source.html#l00126">126</a> of file <a class="el" href="framescheduler_8cpp_source.html">framescheduler.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ad4b969aa874a74fa503518d5e0b3a3bc"></a><!-- doxytag: member="Mezzanine::Threading::FrameScheduler::GetNextWorkUnit" ref="ad4b969aa874a74fa503518d5e0b3a3bc" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMezzanine_1_1Threading_1_1iWorkUnit.html">iWorkUnit</a> * <a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#ad4b969aa874a74fa503518d5e0b3a3bc">Mezzanine::Threading::FrameScheduler::GetNextWorkUnit</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets the next available workunit for execution. </p>
<p>This finds the next available WorkUnit which has not started execution, has no dependencies that have not complete, has the most WorkUnits Units that depend on it (has the highest runtime in the case of a tie). </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>A pointer to the WorkUnit that could be executed or a null pointer if that could not be acquired. This does not give ownership of that WorkUnit. </dd></dl>

<p>Definition at line <a class="el" href="framescheduler_8cpp_source.html#l00305">305</a> of file <a class="el" href="framescheduler_8cpp_source.html">framescheduler.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a63ecabada780522819ca611399e806c6"></a><!-- doxytag: member="Mezzanine::Threading::FrameScheduler::GetNextWorkUnitAffinity" ref="a63ecabada780522819ca611399e806c6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMezzanine_1_1Threading_1_1iWorkUnit.html">iWorkUnit</a> * <a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a63ecabada780522819ca611399e806c6">Mezzanine::Threading::FrameScheduler::GetNextWorkUnitAffinity</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Just like <a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#ad4b969aa874a74fa503518d5e0b3a3bc">GetNextWorkUnit</a> except that it searchs through and prioritizes work units with affinity. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>A pointer to the WorkUnit that could be executed *in the main thread* or a null pointer if that could not be acquired. This does not give ownership of that WorkUnit. </dd></dl>

<p>Definition at line <a class="el" href="framescheduler_8cpp_source.html#l00340">340</a> of file <a class="el" href="framescheduler_8cpp_source.html">framescheduler.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a45299a4ebe34674b09c7b40ccccae8ce"></a><!-- doxytag: member="Mezzanine::Threading::FrameScheduler::GetThreadCount" ref="a45299a4ebe34674b09c7b40ccccae8ce" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceMezzanine.html#a493d0c130650b4bf1c4f793ba191cec2">Whole</a> <a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a45299a4ebe34674b09c7b40ccccae8ce">Mezzanine::Threading::FrameScheduler::GetThreadCount</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the amount of threads that will be used to execute WorkUnits a the start of the next frame. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>A Whole with the current desired thread count. </dd></dl>

<p>Definition at line <a class="el" href="framescheduler_8cpp_source.html#l00424">424</a> of file <a class="el" href="framescheduler_8cpp_source.html">framescheduler.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a96d872719e50177ac5028c43bf68de21"></a><!-- doxytag: member="Mezzanine::Threading::FrameScheduler::JoinAllThreads" ref="a96d872719e50177ac5028c43bf68de21" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a96d872719e50177ac5028c43bf68de21">Mezzanine::Threading::FrameScheduler::JoinAllThreads</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This is the 4th step (of 6) in a frame. </p>
<p>Used when completing the work of a frame, to cleaning end the execution of the threads. This function will only return when all the work started by <a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#aa2cc09939a4779cbb6c0affcb0b1431e">CreateThreads()</a> and <a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a27b7bda2596fbbf669143688398f1fa5">RunMainThreadWork()</a> have completed. This call blocks until all threads executing. If a thread takes too long then this simply waits for it to finish. No attempt is made to timeout or interupt a work unit before it finishes. </p>

<p>Definition at line <a class="el" href="framescheduler_8cpp_source.html#l00481">481</a> of file <a class="el" href="framescheduler_8cpp_source.html">framescheduler.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ae3d34cfcbafae9a60f43b0b6f81aabbe"></a><!-- doxytag: member="Mezzanine::Threading::FrameScheduler::RemoveWorkUnit" ref="ae3d34cfcbafae9a60f43b0b6f81aabbe" args="(iWorkUnit *LessWork)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#ae3d34cfcbafae9a60f43b0b6f81aabbe">Mezzanine::Threading::FrameScheduler::RemoveWorkUnit</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMezzanine_1_1Threading_1_1iWorkUnit.html">iWorkUnit</a> *&#160;</td>
          <td class="paramname"><em>LessWork</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Remove a WorkUnit, and caller regains ownership of it. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">LessWork</td><td>a pointer to a WorkUnit that should no longer be scheduled.</td></tr>
  </table>
  </dd>
</dl>
<p>This is relative slow compared to adding or finding a working unit, this works in linear time relative to the number of WorkUnits in the scheduler. </p>
<dl class="warning"><dt><b>Warning:</b></dt><dd>This does not cleanup dependencies and can get you in trouble if other work units depend on the one removed </dd></dl>

<p>Definition at line <a class="el" href="framescheduler_8cpp_source.html#l00261">261</a> of file <a class="el" href="framescheduler_8cpp_source.html">framescheduler.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="af11e18b5ea39b77fee60c3a3d0e65bd4"></a><!-- doxytag: member="Mezzanine::Threading::FrameScheduler::ResetAllWorkUnits" ref="af11e18b5ea39b77fee60c3a3d0e65bd4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#af11e18b5ea39b77fee60c3a3d0e65bd4">Mezzanine::Threading::FrameScheduler::ResetAllWorkUnits</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This is the 5th step (of 6) in a frame. </p>
<p>Take any steps required to prepare all owned WorkUnits for execution next frame. This usually includes reseting all the work units running state to <a class="el" href="namespaceMezzanine_1_1Threading.html#a1a21883adf1ed757a3926c29a5486a8eabbce5705b2c11ab3749cd3081e760233">NotStarted</a>. This can cause work units to be executed multiple times if a thread is still executing. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>could be replace with a parallel for, or a monopoly </dd></dl>

<p>Definition at line <a class="el" href="framescheduler_8cpp_source.html#l00503">503</a> of file <a class="el" href="framescheduler_8cpp_source.html">framescheduler.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ac8dfbc810d2d24bf4c5ba4bec6c08b5c"></a><!-- doxytag: member="Mezzanine::Threading::FrameScheduler::RunAllMonopolies" ref="ac8dfbc810d2d24bf4c5ba4bec6c08b5c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#ac8dfbc810d2d24bf4c5ba4bec6c08b5c">Mezzanine::Threading::FrameScheduler::RunAllMonopolies</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This is the 1st step (of 6) in a frame. </p>
<p>This Iterates over the listing of <a class="el" href="classMezzanine_1_1Threading_1_1MonopolyWorkUnit.html">MonopolyWorkUnit</a>s and executes each one in the order it was added. This should be considered as consuming all available CPU time until it returns. This call blocks until execution of monopolies is complete. </p>

<p>Definition at line <a class="el" href="framescheduler_8cpp_source.html#l00446">446</a> of file <a class="el" href="framescheduler_8cpp_source.html">framescheduler.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a27b7bda2596fbbf669143688398f1fa5"></a><!-- doxytag: member="Mezzanine::Threading::FrameScheduler::RunMainThreadWork" ref="a27b7bda2596fbbf669143688398f1fa5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a27b7bda2596fbbf669143688398f1fa5">Mezzanine::Threading::FrameScheduler::RunMainThreadWork</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This is the 3rd step (of 6) in a frame. </p>
<p>This runs the main portion of the <a class="el" href="index.html#algorithm_sec">scheduling algorithm</a> on the main thread. This call blocks until the execution of all workunits with main thread affinity are complete and all other work units have at least started. This could return and other threads could still be working. </p>

<p>Definition at line <a class="el" href="framescheduler_8cpp_source.html#l00476">476</a> of file <a class="el" href="framescheduler_8cpp_source.html">framescheduler.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ac8e0872f75c8fecf19c452a478ea6234"></a><!-- doxytag: member="Mezzanine::Threading::FrameScheduler::SetFrameLength" ref="ac8e0872f75c8fecf19c452a478ea6234" args="(Whole FrameLength)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#ac8e0872f75c8fecf19c452a478ea6234">Mezzanine::Threading::FrameScheduler::SetFrameLength</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceMezzanine.html#a493d0c130650b4bf1c4f793ba191cec2">Whole</a>&#160;</td>
          <td class="paramname"><em>FrameLength</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the Desired length of a frame in microseconds. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">FrameLength</td><td>The desired minimum length of the frame. Use 0 for no pause. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="framescheduler_8cpp_source.html#l00421">421</a> of file <a class="el" href="framescheduler_8cpp_source.html">framescheduler.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a4f018d5cd5f64a25dddd274068177add"></a><!-- doxytag: member="Mezzanine::Threading::FrameScheduler::SetFrameRate" ref="a4f018d5cd5f64a25dddd274068177add" args="(Whole FrameRate)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a4f018d5cd5f64a25dddd274068177add">Mezzanine::Threading::FrameScheduler::SetFrameRate</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceMezzanine.html#a493d0c130650b4bf1c4f793ba191cec2">Whole</a>&#160;</td>
          <td class="paramname"><em>FrameRate</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the desired Frate rate. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">FrameRate</td><td>in frames per second</td></tr>
  </table>
  </dd>
</dl>
<p>Defaults to 60, to maximize smoothmess of execution (no human can see that fast), while not killing battery life. This is a maximum framerate, if WorkUnits take too long to execute this will not make them finish faster. This controls a delay to prevent the machine's resources from being completely tapped. <br/>
 <br/>
 Set this to 0 to never pause and run as fast as possible. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>A Whole containing the Target frame rate. </dd></dl>

<p>Definition at line <a class="el" href="framescheduler_8cpp_source.html#l00413">413</a> of file <a class="el" href="framescheduler_8cpp_source.html">framescheduler.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a810bda1947bafd31168e02d391b709ad"></a><!-- doxytag: member="Mezzanine::Threading::FrameScheduler::SetThreadCount" ref="a810bda1947bafd31168e02d391b709ad" args="(Whole NewThreadCount)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a810bda1947bafd31168e02d391b709ad">Mezzanine::Threading::FrameScheduler::SetThreadCount</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceMezzanine.html#a493d0c130650b4bf1c4f793ba191cec2">Whole</a>&#160;</td>
          <td class="paramname"><em>NewThreadCount</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the amount of thread to use. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">NewThreadCount</td><td>The amount of threads to use starting at the begining of the next frame. </td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Currently the thread count cannot be reduced if Mezz_MinimizeThreadsEachFrame is selected in cmake configuration. </dd></dl>

<p>Definition at line <a class="el" href="framescheduler_8cpp_source.html#l00427">427</a> of file <a class="el" href="framescheduler_8cpp_source.html">framescheduler.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a80628895bdad74d03e5ac3b247e58741"></a><!-- doxytag: member="Mezzanine::Threading::FrameScheduler::SortWorkUnitsAffinity" ref="a80628895bdad74d03e5ac3b247e58741" args="(bool UpdateDependentGraph_=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a80628895bdad74d03e5ac3b247e58741">Mezzanine::Threading::FrameScheduler::SortWorkUnitsAffinity</a> </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>UpdateDependentGraph_</em> = <code>true</code></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sort the WorkUnits that must run on the main thread to allow them to be used more efficiently in the next frame executed. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">UpdateDependentGraph_</td><td>Should the internal cache of reverse dependents be updated.</td></tr>
  </table>
  </dd>
</dl>
<p>See <a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a3480908d1f06458466b312857570e3cf">DependentGraph</a> for the appropriate times to use this. </p>

<p>Definition at line <a class="el" href="framescheduler_8cpp_source.html#l00244">244</a> of file <a class="el" href="framescheduler_8cpp_source.html">framescheduler.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a518ad64baf64d3dde2819aa580055249"></a><!-- doxytag: member="Mezzanine::Threading::FrameScheduler::SortWorkUnitsAll" ref="a518ad64baf64d3dde2819aa580055249" args="(bool UpdateDependentGraph_=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a518ad64baf64d3dde2819aa580055249">Mezzanine::Threading::FrameScheduler::SortWorkUnitsAll</a> </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>UpdateDependentGraph_</em> = <code>true</code></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sort all the WorkUnits that must run on the main thread to allow them to be used more efficiently in the next frame executed. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">UpdateDependentGraph_</td><td>Should the internal cache of reverse dependents be updated.</td></tr>
  </table>
  </dd>
</dl>
<p>See <a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a3480908d1f06458466b312857570e3cf">DependentGraph</a> for the appropriate times to use this. </p>

<p>Definition at line <a class="el" href="framescheduler_8cpp_source.html#l00255">255</a> of file <a class="el" href="framescheduler_8cpp_source.html">framescheduler.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a9f2e92ae7cbd9e4179da6aa895d766fe"></a><!-- doxytag: member="Mezzanine::Threading::FrameScheduler::SortWorkUnitsMain" ref="a9f2e92ae7cbd9e4179da6aa895d766fe" args="(bool UpdateDependentGraph_=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a9f2e92ae7cbd9e4179da6aa895d766fe">Mezzanine::Threading::FrameScheduler::SortWorkUnitsMain</a> </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>UpdateDependentGraph_</em> = <code>true</code></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sort the the main pool of WorkUnits to allow them to be used more efficiently in the next frame executed. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">UpdateDependentGraph_</td><td>Should the internal cache of reverse dependents be updated.</td></tr>
  </table>
  </dd>
</dl>
<p>See <a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a3480908d1f06458466b312857570e3cf">DependentGraph</a> for the appropriate times to use this. </p>

<p>Definition at line <a class="el" href="framescheduler_8cpp_source.html#l00233">233</a> of file <a class="el" href="framescheduler_8cpp_source.html">framescheduler.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aba3be4eae7e87a5021fc33c2edefaa04"></a><!-- doxytag: member="Mezzanine::Threading::FrameScheduler::UpdateDependentGraph" ref="aba3be4eae7e87a5021fc33c2edefaa04" args="(const std::vector&lt; WorkUnitKey &gt; &amp;Units)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#aba3be4eae7e87a5021fc33c2edefaa04">Mezzanine::Threading::FrameScheduler::UpdateDependentGraph</a> </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classMezzanine_1_1Threading_1_1WorkUnitKey.html">WorkUnitKey</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>Units</em></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Adds the dependencies of the <a class="el" href="classMezzanine_1_1Threading_1_1iWorkUnit.html">iWorkUnit</a>s in the passed containter to the the internal reverse dependency graph. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">Units</td><td>The container to examine for dependency relationships. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="framescheduler_8cpp_source.html#l00146">146</a> of file <a class="el" href="framescheduler_8cpp_source.html">framescheduler.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aabdf0812101f82b466affd6f67524226"></a><!-- doxytag: member="Mezzanine::Threading::FrameScheduler::UpdateDependentGraph" ref="aabdf0812101f82b466affd6f67524226" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#aba3be4eae7e87a5021fc33c2edefaa04">Mezzanine::Threading::FrameScheduler::UpdateDependentGraph</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create a reverse depedent graph that can be used for sorting <a class="el" href="classMezzanine_1_1Threading_1_1iWorkUnit.html">iWorkUnit</a>s to optimize execution each frame. </p>
<p>This can be called automatically from any of several places that make sense by passing a boolean true value. These place include create a <a class="el" href="classMezzanine_1_1Threading_1_1WorkUnitKey.html">WorkUnitKey</a> or Sorting the work units in a framescheduler. </p>

<p>Definition at line <a class="el" href="framescheduler_8cpp_source.html#l00397">397</a> of file <a class="el" href="framescheduler_8cpp_source.html">framescheduler.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a1743f13fdd9ef1445495ab0e24025765"></a><!-- doxytag: member="Mezzanine::Threading::FrameScheduler::UpdateWorkUnitKeys" ref="a1743f13fdd9ef1445495ab0e24025765" args="(std::vector&lt; WorkUnitKey &gt; &amp;Units)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a1743f13fdd9ef1445495ab0e24025765">Mezzanine::Threading::FrameScheduler::UpdateWorkUnitKeys</a> </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classMezzanine_1_1Threading_1_1WorkUnitKey.html">WorkUnitKey</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>Units</em></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Iterate over the passed container of <a class="el" href="classMezzanine_1_1Threading_1_1WorkUnitKey.html">WorkUnitKey</a>s and refresh them with the correct data from their respective <a class="el" href="classMezzanine_1_1Threading_1_1iWorkUnit.html">iWorkUnit</a>s. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">Units</td><td>The container to examine for <a class="el" href="classMezzanine_1_1Threading_1_1WorkUnitKey.html">WorkUnitKey</a> metadata. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="framescheduler_8cpp_source.html#l00158">158</a> of file <a class="el" href="framescheduler_8cpp_source.html">framescheduler.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ac5babf56caf6f2a1bddfa461b9e999b2"></a><!-- doxytag: member="Mezzanine::Threading::FrameScheduler::WaitUntilNextFrame" ref="ac5babf56caf6f2a1bddfa461b9e999b2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#ac5babf56caf6f2a1bddfa461b9e999b2">Mezzanine::Threading::FrameScheduler::WaitUntilNextFrame</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This is the final step (of 6) in a frame. </p>
<p>Wait until this frame has consumed its fair share of a second. This uses the value passed in <a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a4f018d5cd5f64a25dddd274068177add">SetFrameRate(Whole)</a> to determine what portion of a second each frame should use. If a frame took too long to execute this calculates that and returns. <br/>
 <br/>
 Wait 1/TargetFrame Seconds, minus time already run. This also starts the timer for the next frame so any other logic that needs to run after the frame does not interfere with frame timing. </p>

<p>Definition at line <a class="el" href="framescheduler_8cpp_source.html#l00516">516</a> of file <a class="el" href="framescheduler_8cpp_source.html">framescheduler.cpp</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a3480908d1f06458466b312857570e3cf"></a><!-- doxytag: member="Mezzanine::Threading::FrameScheduler::DependentGraph" ref="a3480908d1f06458466b312857570e3cf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#af4a05091447afb8186d6fe46878d3de6">DependentGraphType</a> <a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a3480908d1f06458466b312857570e3cf">Mezzanine::Threading::FrameScheduler::DependentGraph</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This structure allows reverse lookup of dependencies. </p>
<p>This is is a key part of the workunit sorting algorithm. This is calculated during calls to generate <a class="el" href="classMezzanine_1_1Threading_1_1WorkUnitKey.html">WorkUnitKey</a>s, </p>
<dl class="warning"><dt><b>Warning:</b></dt><dd></dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000002">Todo:</a></b></dt><dd>write this warning, it is important, but not easy to lay out. </dd></dl>

<p>Definition at line <a class="el" href="framescheduler_8h_source.html#l00109">109</a> of file <a class="el" href="framescheduler_8h_source.html">framescheduler.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad4d36e8edc6bb1a6a41fe7d8663648a8"></a><!-- doxytag: member="Mezzanine::Threading::FrameScheduler::FrameCount" ref="ad4d36e8edc6bb1a6a41fe7d8663648a8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceMezzanine.html#a493d0c130650b4bf1c4f793ba191cec2">Whole</a> <a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#ad4d36e8edc6bb1a6a41fe7d8663648a8">Mezzanine::Threading::FrameScheduler::FrameCount</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Used to store a count of frames from the begining of game execution. </p>
<dl class="warning"><dt><b>Warning:</b></dt><dd>At 60 Frames per second this loops in 2 years, 3 months, 6 days and around 18 hours, this may not be suitable for high uptime servers. Using a MaxInt fixes this. </dd></dl>

<p>Definition at line <a class="el" href="framescheduler_8h_source.html#l00157">157</a> of file <a class="el" href="framescheduler_8h_source.html">framescheduler.h</a>.</p>

</div>
</div>
<a class="anchor" id="a4c5adabd75af9115c207f8c2f34866e8"></a><!-- doxytag: member="Mezzanine::Threading::FrameScheduler::Resources" ref="a4c5adabd75af9115c207f8c2f34866e8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structMezzanine_1_1Threading_1_1DefaultThreadSpecificStorage.html#a896916be2a41f29a6311ebee7a5f7aab">DefaultThreadSpecificStorage::Type</a>*&gt; <a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a4c5adabd75af9115c207f8c2f34866e8">Mezzanine::Threading::FrameScheduler::Resources</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This maintains ownership of all the thread specific resources. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>There should be the same amount of more these than entries in the Threads vector. </dd></dl>

<p>Definition at line <a class="el" href="framescheduler_8h_source.html#l00113">113</a> of file <a class="el" href="framescheduler_8h_source.html">framescheduler.h</a>.</p>

</div>
</div>
<a class="anchor" id="aaff58e33e8837a2aad9391a9d6a0dc84"></a><!-- doxytag: member="Mezzanine::Threading::FrameScheduler::Threads" ref="aaff58e33e8837a2aad9391a9d6a0dc84" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="classMezzanine_1_1Threading_1_1Thread.html">Thread</a>*&gt; <a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#aaff58e33e8837a2aad9391a9d6a0dc84">Mezzanine::Threading::FrameScheduler::Threads</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>A way to track an arbitrary number of threads. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>There should never be more of these than Resources, and if there are more at the beginning of a frame the resources will be created in <a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#aa2cc09939a4779cbb6c0affcb0b1431e" title="This is the 2nd step (of 6) in a frame.">CreateThreads()</a>. </dd></dl>

<p>Definition at line <a class="el" href="framescheduler_8h_source.html#l00117">117</a> of file <a class="el" href="framescheduler_8h_source.html">framescheduler.h</a>.</p>

</div>
</div>
<a class="anchor" id="a83bf2421d69556aa4d1a2efc6f88290d"></a><!-- doxytag: member="Mezzanine::Threading::FrameScheduler::WorkUnitsAffinity" ref="a83bf2421d69556aa4d1a2efc6f88290d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="classMezzanine_1_1Threading_1_1WorkUnitKey.html">WorkUnitKey</a>&gt; <a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a83bf2421d69556aa4d1a2efc6f88290d">Mezzanine::Threading::FrameScheduler::WorkUnitsAffinity</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>A collection of <a class="el" href="classMezzanine_1_1Threading_1_1iWorkUnit.html">iWorkUnit</a>s that must be run on the main thread. </p>
<p>This is very similar to <a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#af5c99359d324eb79b9080464b32be098">WorkUnitsMain</a> except that the <a class="el" href="classMezzanine_1_1Threading_1_1iWorkUnit.html">iWorkUnit</a>s are only run in the main thread and are sorted by calls to <a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a518ad64baf64d3dde2819aa580055249">SortWorkUnitsAll</a> or <a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a80628895bdad74d03e5ac3b247e58741">SortWorkUnitsAffinity</a> . </p>

<p>Definition at line <a class="el" href="framescheduler_8h_source.html#l00096">96</a> of file <a class="el" href="framescheduler_8h_source.html">framescheduler.h</a>.</p>

</div>
</div>
<a class="anchor" id="af5c99359d324eb79b9080464b32be098"></a><!-- doxytag: member="Mezzanine::Threading::FrameScheduler::WorkUnitsMain" ref="af5c99359d324eb79b9080464b32be098" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="classMezzanine_1_1Threading_1_1WorkUnitKey.html">WorkUnitKey</a>&gt; <a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#af5c99359d324eb79b9080464b32be098">Mezzanine::Threading::FrameScheduler::WorkUnitsMain</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>A collection of all the work units that are not Monopolies and do not have affinity for a given thread. </p>
<p>This stores a sorted listing(currently a vector) of <a class="el" href="classMezzanine_1_1Threading_1_1WorkUnitKey.html">WorkUnitKey</a> instances. These include just the metadata required for sorting <a class="el" href="classMezzanine_1_1Threading_1_1iWorkUnit.html">iWorkUnit</a>s. Higher priority <a class="el" href="classMezzanine_1_1Threading_1_1iWorkUnit.html">iWorkUnit</a>s are higher/later in the collection. This list is sorted by calls to <a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a9f2e92ae7cbd9e4179da6aa895d766fe">SortWorkUnitsMain</a> or <a class="el" href="classMezzanine_1_1Threading_1_1FrameScheduler.html#a518ad64baf64d3dde2819aa580055249">SortWorkUnitsAll</a>. </p>

<p>Definition at line <a class="el" href="framescheduler_8h_source.html#l00091">91</a> of file <a class="el" href="framescheduler_8h_source.html">framescheduler.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="framescheduler_8h_source.html">framescheduler.h</a></li>
<li><a class="el" href="framescheduler_8cpp_source.html">framescheduler.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>
Generated on Sat Dec 22 2012 01:53:17 for DagFrameScheduler by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1</small></address>
</body>
</html>
