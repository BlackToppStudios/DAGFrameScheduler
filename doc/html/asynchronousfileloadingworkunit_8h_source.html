<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>asynchronousfileloadingworkunit.h Source File</title>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="DoxyStyle.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<div id="top"><!-- do not remove this div! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;" nowrap="nowrap">
   <div id="projectname"><a href="http://blacktoppstudios.com"><img src="logogreen100pxtall.png"></a>DAGFrameScheduler&#160;<span id="projectnumber">November 2012</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="dir_b971682af87995f4dd389d6012b1b8c2.html">src</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">asynchronousfileloadingworkunit.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="asynchronousfileloadingworkunit_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">// The DAGFrameScheduler is a Multi-Threaded lock free and wait free scheduling library.</span>
<a name="l00002"></a>00002 <span class="comment">// Â© Copyright 2010 - 2012 BlackTopp Studios Inc.</span>
<a name="l00003"></a>00003 <span class="comment">/* This file is part of The DAGFrameScheduler.</span>
<a name="l00004"></a>00004 <span class="comment"></span>
<a name="l00005"></a>00005 <span class="comment">    The DAGFrameScheduler is free software: you can redistribute it and/or modify</span>
<a name="l00006"></a>00006 <span class="comment">    it under the terms of the GNU General Public License as published by</span>
<a name="l00007"></a>00007 <span class="comment">    the Free Software Foundation, either version 3 of the License, or</span>
<a name="l00008"></a>00008 <span class="comment">    (at your option) any later version.</span>
<a name="l00009"></a>00009 <span class="comment"></span>
<a name="l00010"></a>00010 <span class="comment">    The DAGFrameScheduler is distributed in the hope that it will be useful,</span>
<a name="l00011"></a>00011 <span class="comment">    but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00012"></a>00012 <span class="comment">    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l00013"></a>00013 <span class="comment">    GNU General Public License for more details.</span>
<a name="l00014"></a>00014 <span class="comment"></span>
<a name="l00015"></a>00015 <span class="comment">    You should have received a copy of the GNU General Public License</span>
<a name="l00016"></a>00016 <span class="comment">    along with The DAGFrameScheduler.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l00017"></a>00017 <span class="comment">*/</span>
<a name="l00018"></a>00018 <span class="comment">/* The original authors have included a copy of the license specified above in the</span>
<a name="l00019"></a>00019 <span class="comment">   &#39;doc&#39; folder. See &#39;gpl.txt&#39;</span>
<a name="l00020"></a>00020 <span class="comment">*/</span>
<a name="l00021"></a>00021 <span class="comment">/* We welcome the use of the DAGFrameScheduler to anyone, including companies who wish to</span>
<a name="l00022"></a>00022 <span class="comment">   Build professional software and charge for their product.</span>
<a name="l00023"></a>00023 <span class="comment"></span>
<a name="l00024"></a>00024 <span class="comment">   However there are some practical restrictions, so if your project involves</span>
<a name="l00025"></a>00025 <span class="comment">   any of the following you should contact us and we will try to work something</span>
<a name="l00026"></a>00026 <span class="comment">   out:</span>
<a name="l00027"></a>00027 <span class="comment">    - DRM or Copy Protection of any kind(except Copyrights)</span>
<a name="l00028"></a>00028 <span class="comment">    - Software Patents You Do Not Wish to Freely License</span>
<a name="l00029"></a>00029 <span class="comment">    - Any Kind of Linking to Non-GPL licensed Works</span>
<a name="l00030"></a>00030 <span class="comment">    - Are Currently In Violation of Another Copyright Holder&#39;s GPL License</span>
<a name="l00031"></a>00031 <span class="comment">    - If You want to change our code and not add a few hundred MB of stuff to</span>
<a name="l00032"></a>00032 <span class="comment">        your distribution</span>
<a name="l00033"></a>00033 <span class="comment"></span>
<a name="l00034"></a>00034 <span class="comment">   These and other limitations could cause serious legal problems if you ignore</span>
<a name="l00035"></a>00035 <span class="comment">   them, so it is best to simply contact us or the Free Software Foundation, if</span>
<a name="l00036"></a>00036 <span class="comment">   you have any questions.</span>
<a name="l00037"></a>00037 <span class="comment"></span>
<a name="l00038"></a>00038 <span class="comment">   Joseph Toppi - toppij@gmail.com</span>
<a name="l00039"></a>00039 <span class="comment">   John Blackwood - makoenergy02@gmail.com</span>
<a name="l00040"></a>00040 <span class="comment">*/</span>
<a name="l00041"></a>00041 <span class="preprocessor">#ifndef _asynchronousfileloadingworkunit_h</span>
<a name="l00042"></a>00042 <span class="preprocessor"></span><span class="preprocessor">#define _asynchronousfileloadingworkunit_h</span>
<a name="l00043"></a>00043 <span class="preprocessor"></span>
<a name="l00044"></a>00044 <span class="preprocessor">#include &quot;<a class="code" href="asynchronousworkunit_8h.html" title="Contains an interface for a kind of WorkUnit that loads or does other work even when the frame schedu...">asynchronousworkunit.h</a>&quot;</span>
<a name="l00045"></a>00045 <span class="comment"></span>
<a name="l00046"></a>00046 <span class="comment">/// @file</span>
<a name="l00047"></a>00047 <span class="comment">/// @brief The declaration of the @ref Mezzanine::Threading::AsynchronousFileLoadWorkUnit &quot;AsynchronousFileLoadWorkUnit&quot; a workunit that loads a listing of files asynchronously.</span>
<a name="l00048"></a>00048 <span class="comment"></span><span class="keyword">namespace </span>Mezzanine
<a name="l00049"></a>00049 {
<a name="l00050"></a>00050     <span class="keyword">namespace </span>Threading
<a name="l00051"></a>00051     {<span class="comment"></span>
<a name="l00052"></a>00052 <span class="comment">        /// @cond 0</span>
<a name="l00053"></a>00053 <span class="comment"></span><span class="comment"></span>
<a name="l00054"></a>00054 <span class="comment">        /// @brief An Internal helper function for the @ref AsynchronousFileLoadWorkUnit</span>
<a name="l00055"></a>00055 <span class="comment">        /// @details there is a 1 to 1 relationship between this function and its associated @ref Mezzanine::Threading::AsynchronousFileLoadWorkUnit &quot;AsynchronousFileLoadWorkUnit&quot;.</span>
<a name="l00056"></a>00056 <span class="comment">        /// This is the function run in another thread to allow loading asynchrously.</span>
<a name="l00057"></a>00057 <span class="comment">        /// @param WU A pointer to the @ref Mezzanine::Threading::AsynchronousFileLoadWorkUnit &quot;AsynchronousFileLoadWorkUnit&quot; that is goes t</span>
<a name="l00058"></a>00058 <span class="comment"></span>        <span class="keywordtype">void</span> ThreadLoading(<span class="keywordtype">void</span>* WU);
<a name="l00059"></a>00059 <span class="comment"></span>
<a name="l00060"></a>00060 <span class="comment">        /// @endcond</span>
<a name="l00061"></a>00061 <span class="comment"></span><span class="comment"></span>
<a name="l00062"></a>00062 <span class="comment">        /// @brief A simple in memory representation of a file.</span>
<a name="l00063"></a><a class="code" href="classMezzanine_1_1Threading_1_1RawFile.html">00063</a> <span class="comment"></span>        <span class="keyword">class </span><a class="code" href="compilerthreadcompat_8h.html#a455f91aab9e6a1cf4286f5cdfa74c7bc" title="Some platforms require special decorations to denote what is exported/imported in a share library...">MEZZ_LIB</a> <a class="code" href="classMezzanine_1_1Threading_1_1RawFile.html" title="A simple in memory representation of a file.">RawFile</a>
<a name="l00064"></a>00064         {                
<a name="l00065"></a>00065             <span class="keyword">public</span>:<span class="comment"></span>
<a name="l00066"></a>00066 <span class="comment">                /// @brief How big is the file in bytes?</span>
<a name="l00067"></a><a class="code" href="classMezzanine_1_1Threading_1_1RawFile.html#a0571e4d9b35abbc5713348b6bf0735d0">00067</a> <span class="comment"></span>                <a class="code" href="namespaceMezzanine.html#ad7ab1b85229be184e16d96c505143f9b" title="A large integer type suitable for compile time math and long term microsecond time keeping...">MaxInt</a> <a class="code" href="classMezzanine_1_1Threading_1_1RawFile.html#a0571e4d9b35abbc5713348b6bf0735d0" title="How big is the file in bytes?">Size</a>;
<a name="l00068"></a>00068 <span class="comment"></span>
<a name="l00069"></a>00069 <span class="comment">                /// @brief A pointer to a block of memory as it was loaded raw from the file.</span>
<a name="l00070"></a><a class="code" href="classMezzanine_1_1Threading_1_1RawFile.html#ab771fdd617ed0e93ddc0fe2b9e1d8d47">00070</a> <span class="comment"></span>                <a class="code" href="namespaceMezzanine.html#aa5f38583d9025e05fa33d6e32e97b457" title="An 8-bit unsigned integer.">UInt8</a>* <a class="code" href="classMezzanine_1_1Threading_1_1RawFile.html#ab771fdd617ed0e93ddc0fe2b9e1d8d47" title="A pointer to a block of memory as it was loaded raw from the file.">Data</a>;
<a name="l00071"></a>00071 <span class="comment"></span>
<a name="l00072"></a>00072 <span class="comment">                /// @brief Constructor</span>
<a name="l00073"></a>00073 <span class="comment">                /// @details Allocates space of the amount passed. In the @ref Mezzanine::Threading::AsynchronousFileLoadWorkUnit &quot;AsynchronousFileLoadWorkUnit&quot;</span>
<a name="l00074"></a>00074 <span class="comment">                /// this is the size of the file to be loaded.</span>
<a name="l00075"></a>00075 <span class="comment">                /// @param Size_ The size of the buffer to allocate.</span>
<a name="l00076"></a><a class="code" href="classMezzanine_1_1Threading_1_1RawFile.html#aad1399f87c1a92dc2ef348a370efcfa8">00076</a> <span class="comment"></span>                <a class="code" href="classMezzanine_1_1Threading_1_1RawFile.html" title="A simple in memory representation of a file.">RawFile</a>(<a class="code" href="namespaceMezzanine.html#ad7ab1b85229be184e16d96c505143f9b" title="A large integer type suitable for compile time math and long term microsecond time keeping...">MaxInt</a> Size_) : Size(Size_)
<a name="l00077"></a>00077                     { Data = <span class="keyword">new</span> <a class="code" href="namespaceMezzanine.html#aa5f38583d9025e05fa33d6e32e97b457" title="An 8-bit unsigned integer.">UInt8</a>[Size_]; }
<a name="l00078"></a>00078 <span class="comment"></span>
<a name="l00079"></a>00079 <span class="comment">                /// @brief De-allocates the memory for the file, this make deleting Data a bad idea.</span>
<a name="l00080"></a><a class="code" href="classMezzanine_1_1Threading_1_1RawFile.html#ae225a8eb5d0080c5baa180bbe6a00276">00080</a> <span class="comment"></span>                ~<a class="code" href="classMezzanine_1_1Threading_1_1RawFile.html" title="A simple in memory representation of a file.">RawFile</a>()
<a name="l00081"></a>00081                 {
<a name="l00082"></a>00082                     <span class="keywordflow">if</span>(Data)
<a name="l00083"></a>00083                         { <span class="keyword">delete</span>[] Data; }
<a name="l00084"></a>00084                 }
<a name="l00085"></a>00085 
<a name="l00086"></a>00086             <span class="keyword">private</span>:<span class="comment"></span>
<a name="l00087"></a>00087 <span class="comment">                /// @brief Copying this class is a bad idea, private copy constructor</span>
<a name="l00088"></a>00088 <span class="comment"></span>                <a class="code" href="classMezzanine_1_1Threading_1_1RawFile.html" title="A simple in memory representation of a file.">RawFile</a>(<a class="code" href="classMezzanine_1_1Threading_1_1RawFile.html" title="A simple in memory representation of a file.">RawFile</a>&amp;) {}
<a name="l00089"></a>00089 <span class="comment"></span>
<a name="l00090"></a>00090 <span class="comment">                /// @brief Assigning this class is bad, private operator=.</span>
<a name="l00091"></a>00091 <span class="comment">                /// @param unused Like it says it is unused in any real sense, it is returned to prevent compiler warnings.</span>
<a name="l00092"></a>00092 <span class="comment"></span>                RawFile&amp; operator=(RawFile&amp; unused) { <span class="keywordflow">return</span> unused; }
<a name="l00093"></a>00093         };
<a name="l00094"></a>00094 <span class="comment"></span>
<a name="l00095"></a>00095 <span class="comment">        /// @brief This is intended to load files asynchronously and continue doing so whether or not other the @ref FrameScheduler is running or paused.</span>
<a name="l00096"></a>00096 <span class="comment">        /// @details The goal is to trigger lower level mechanisms to use DMA to load directly without CPU intervention. In some operating systems this</span>
<a name="l00097"></a>00097 <span class="comment">        /// is handled in the standard library, and in otherS special mechanisms must be used to make this happen. The current state of this allows</span>
<a name="l00098"></a>00098 <span class="comment">        /// testing to determine how good automatic mechanisms work.</span>
<a name="l00099"></a><a class="code" href="classMezzanine_1_1Threading_1_1AsynchronousFileLoadWorkUnit.html">00099</a> <span class="comment"></span>        <span class="keyword">class </span><a class="code" href="compilerthreadcompat_8h.html#a455f91aab9e6a1cf4286f5cdfa74c7bc" title="Some platforms require special decorations to denote what is exported/imported in a share library...">MEZZ_LIB</a> <a class="code" href="classMezzanine_1_1Threading_1_1AsynchronousFileLoadWorkUnit.html" title="This is intended to load files asynchronously and continue doing so whether or not other the FrameSch...">AsynchronousFileLoadWorkUnit</a> : <span class="keyword">public</span> <a class="code" href="classMezzanine_1_1Threading_1_1iAsynchronousWorkUnit.html" title="The interface for a WorkUnit that will keep running when the rest of the scheduler is paused...">iAsynchronousWorkUnit</a>
<a name="l00100"></a>00100         {<span class="comment"></span>
<a name="l00101"></a>00101 <span class="comment">            /// @cond 0</span>
<a name="l00102"></a>00102 <span class="comment"></span>            <span class="comment">// If only there was a way to pass member function to the thread constructor</span>
<a name="l00103"></a>00103             <span class="keyword">friend</span> <span class="keywordtype">void</span> ThreadLoading(<span class="keywordtype">void</span>* WU);<span class="comment"></span>
<a name="l00104"></a>00104 <span class="comment">            /// @endcond</span>
<a name="l00105"></a>00105 <span class="comment"></span>
<a name="l00106"></a>00106             <span class="keyword">protected</span>:<span class="comment"></span>
<a name="l00107"></a>00107 <span class="comment">                /// @brief The names of the files this batch of loading will retrieve</span>
<a name="l00108"></a><a class="code" href="classMezzanine_1_1Threading_1_1AsynchronousFileLoadWorkUnit.html#a22ebc4c42abf9961e780c0d6c2d7038a">00108</a> <span class="comment"></span>                std::vector&lt;String&gt; <a class="code" href="classMezzanine_1_1Threading_1_1AsynchronousFileLoadWorkUnit.html#a22ebc4c42abf9961e780c0d6c2d7038a" title="The names of the files this batch of loading will retrieve.">Filenames</a>;
<a name="l00109"></a>00109 <span class="comment"></span>
<a name="l00110"></a>00110 <span class="comment">                /// @brief Used to make referencing the the type of @ref FilesRaw easier.</span>
<a name="l00111"></a>00111 <span class="comment"></span>                <span class="keyword">typedef</span> std::vector&lt;
<a name="l00112"></a>00112                             <a class="code" href="classMezzanine_1_1Threading_1_1RawFile.html" title="A simple in memory representation of a file.">RawFile</a>*
<a name="l00113"></a><a class="code" href="classMezzanine_1_1Threading_1_1AsynchronousFileLoadWorkUnit.html#a0c17d332bee02a03076b635a5d29fc8c">00113</a>                         &gt; <a class="code" href="classMezzanine_1_1Threading_1_1AsynchronousFileLoadWorkUnit.html#a0c17d332bee02a03076b635a5d29fc8c" title="Used to make referencing the the type of FilesRaw easier.">RawFileContainer</a>;
<a name="l00114"></a>00114 <span class="comment"></span>
<a name="l00115"></a>00115 <span class="comment">                /// @brief The contents of the files once they have been loaded. No partials files will exists here, either the whole file is added or nothing is added.</span>
<a name="l00116"></a><a class="code" href="classMezzanine_1_1Threading_1_1AsynchronousFileLoadWorkUnit.html#a080568934399e6bdd97b369d37c31c66">00116</a> <span class="comment"></span>                <a class="code" href="classMezzanine_1_1Threading_1_1AsynchronousFileLoadWorkUnit.html#a0c17d332bee02a03076b635a5d29fc8c" title="Used to make referencing the the type of FilesRaw easier.">RawFileContainer</a> <a class="code" href="classMezzanine_1_1Threading_1_1AsynchronousFileLoadWorkUnit.html#a080568934399e6bdd97b369d37c31c66" title="The contents of the files once they have been loaded. No partials files will exists here...">FilesRaw</a>;
<a name="l00117"></a>00117 <span class="comment"></span>
<a name="l00118"></a>00118 <span class="comment">                /// @brief This is either 0 or the other thread that is loading.</span>
<a name="l00119"></a><a class="code" href="classMezzanine_1_1Threading_1_1AsynchronousFileLoadWorkUnit.html#a295e574bd2f6217688a82c8eb5416e60">00119</a> <span class="comment"></span>                <a class="code" href="classMezzanine_1_1Threading_1_1Thread.html" title="A small wrapper around the system thread.">Thread</a>* <a class="code" href="classMezzanine_1_1Threading_1_1AsynchronousFileLoadWorkUnit.html#a295e574bd2f6217688a82c8eb5416e60" title="This is either 0 or the other thread that is loading.">LoadingThread</a>;
<a name="l00120"></a>00120 <span class="comment"></span>
<a name="l00121"></a>00121 <span class="comment">                /// @brief This stores the current RunningState.</span>
<a name="l00122"></a><a class="code" href="classMezzanine_1_1Threading_1_1AsynchronousFileLoadWorkUnit.html#a0d04c16c9715f662d128822a14cf6358">00122</a> <span class="comment"></span>                <a class="code" href="namespaceMezzanine.html#a590a2f3eb4a187e1b25209e546e540e1" title="An 32-bit integer.">Int32</a> <a class="code" href="classMezzanine_1_1Threading_1_1AsynchronousFileLoadWorkUnit.html#a0d04c16c9715f662d128822a14cf6358" title="This stores the current RunningState.">Status</a>;
<a name="l00123"></a>00123 
<a name="l00124"></a>00124             <span class="keyword">public</span>:<span class="comment"></span>
<a name="l00125"></a>00125 <span class="comment">                /// @brief Default constructor.</span>
<a name="l00126"></a>00126 <span class="comment"></span>                <a class="code" href="classMezzanine_1_1Threading_1_1AsynchronousFileLoadWorkUnit.html" title="This is intended to load files asynchronously and continue doing so whether or not other the FrameSch...">AsynchronousFileLoadWorkUnit</a>();
<a name="l00127"></a>00127 <span class="comment"></span>
<a name="l00128"></a>00128 <span class="comment">                /// @brief Destructor, deletes all loaded files.</span>
<a name="l00129"></a>00129 <span class="comment"></span>                <span class="keyword">virtual</span> ~<a class="code" href="classMezzanine_1_1Threading_1_1AsynchronousFileLoadWorkUnit.html" title="This is intended to load files asynchronously and continue doing so whether or not other the FrameSch...">AsynchronousFileLoadWorkUnit</a>();
<a name="l00130"></a>00130 <span class="comment"></span>
<a name="l00131"></a>00131 <span class="comment">                /// @brief Begin loading a list of files based on their names.</span>
<a name="l00132"></a>00132 <span class="comment">                /// @param Filenames_ A vector of Strings that correspond to either relative or absolute filenames that will be loaded.</span>
<a name="l00133"></a>00133 <span class="comment">                /// @details When the file is loaded its contents are place in a @ref RawFile and can be retrieved with @ref GetFile(String)</span>
<a name="l00134"></a>00134 <span class="comment">                /// or @ref GetFile(Whole) member functions.</span>
<a name="l00135"></a>00135 <span class="comment">                /// @n @n</span>
<a name="l00136"></a>00136 <span class="comment">                /// This starts by clearing the previous list of loaded files. If that list has not been deleted then</span>
<a name="l00137"></a>00137 <span class="comment">                /// this will cause a memory leak. Use @ref DeleteLoadedFiles to clear this list or copy all the pointers elsewhere before</span>
<a name="l00138"></a>00138 <span class="comment">                /// calling this and delete them manually at your convience. When this work unit is destroyed it deletes any loaded files from</span>
<a name="l00139"></a>00139 <span class="comment">                /// the last call of this method.</span>
<a name="l00140"></a>00140 <span class="comment">                /// @n @n</span>
<a name="l00141"></a>00141 <span class="comment">                /// If this is called while it is loading files the behavior is undefined, most likely it will crash or fail silently, either</span>
<a name="l00142"></a>00142 <span class="comment">                /// way no good can come from it. Use @ref IsWorkDone to see if the work is @ref Complete &quot;Complete&quot;. If the work is complete</span>
<a name="l00143"></a>00143 <span class="comment">                /// then this can be called after any call to this class&#39;s @ref DoWork member function.</span>
<a name="l00144"></a>00144 <span class="comment">                /// @warning This can leak memory if not used in conjuction with memory management or @ref DeleteLoadedFiles and read the details.</span>
<a name="l00145"></a>00145 <span class="comment">                /// @warning This can fail in horrible ways if called twice without waiting for the first call to finish, use @ref IsWorkDone and read the details.</span>
<a name="l00146"></a>00146 <span class="comment">                /// @return This returns @ref Starting &quot;Starting&quot; when loading is successful started and who knows what it returns if it fails, likely a segfault or GPF.</span>
<a name="l00147"></a>00147 <span class="comment"></span>                <a class="code" href="namespaceMezzanine_1_1Threading.html#a1a21883adf1ed757a3926c29a5486a8e" title="Used to track whether a thread has started, completed, etc...">RunningState</a> BeginLoading(std::vector&lt;String&gt; Filenames_);
<a name="l00148"></a>00148 <span class="comment"></span>
<a name="l00149"></a>00149 <span class="comment">                /// @brief This checks if Asynchronous loading thread has completed and if so it cleans up that threads resources.</span>
<a name="l00150"></a>00150 <span class="comment"></span>                <span class="keyword">virtual</span> <span class="keywordtype">void</span> DoWork(<a class="code" href="classMezzanine_1_1Threading_1_1ThreadSpecificStorage.html" title="A thread specific collection of double-buffered and algorithm specific resources.">DefaultThreadSpecificStorage::Type</a>&amp;);
<a name="l00151"></a>00151 <span class="comment"></span>
<a name="l00152"></a>00152 <span class="comment">                /// @brief Get the @ref RunningState of the file loading</span>
<a name="l00153"></a>00153 <span class="comment">                /// @details This can return any @ref RunningState and the meaning applies to the current state of the files being loaded.</span>
<a name="l00154"></a>00154 <span class="comment">                ///     - @ref NotStarted &quot;NotStarted&quot; - Either @ref BeginLoading has not been called or it has been called and has not progressed to the point where it sets this. Not usefu for making logical decisions without knowledge of how many times @ref BeginLoading has been called.</span>
<a name="l00155"></a>00155 <span class="comment">                ///     - @ref Starting &quot;Starting&quot; - This is returned from @ref BeginLoading is success conditions, and is never returned from this.</span>
<a name="l00156"></a>00156 <span class="comment">                ///     - @ref Running &quot;Running&quot; - This means that the loading thread has started but not yet completed.</span>
<a name="l00157"></a>00157 <span class="comment">                ///     - @ref Complete &quot;Complete&quot; - The loading thread has completed its work, and new loading can definitely begin after the next call to @ref DoWork method.</span>
<a name="l00158"></a>00158 <span class="comment">                ///     - @ref Failed &quot;Failed&quot; - If somekind of recoverable error occured, this will be returned, there are no guarantees about the state of the loaded files.</span>
<a name="l00159"></a>00159 <span class="comment">                /// @return The running state as of the time of this call, though it is subjecct to immediate thread unsafe change.</span>
<a name="l00160"></a>00160 <span class="comment"></span>                <span class="keyword">virtual</span> <a class="code" href="namespaceMezzanine_1_1Threading.html#a1a21883adf1ed757a3926c29a5486a8e" title="Used to track whether a thread has started, completed, etc...">RunningState</a> IsWorkDone();
<a name="l00161"></a>00161 <span class="comment"></span>
<a name="l00162"></a>00162 <span class="comment">                /// @brief Get a loaded @ref RawFile in linear time.</span>
<a name="l00163"></a>00163 <span class="comment">                /// @details This searches the list of files names to determine the index of the filename then calls @ref GetFile(Whole) &quot;GetFile(Whole)&quot;.</span>
<a name="l00164"></a>00164 <span class="comment">                /// @param FileName the file to retrieve.</span>
<a name="l00165"></a>00165 <span class="comment">                /// @return A pointer to a @ref RawFile or 0 if it cannot be retrieved for any reason.</span>
<a name="l00166"></a>00166 <span class="comment"></span>                <a class="code" href="classMezzanine_1_1Threading_1_1RawFile.html" title="A simple in memory representation of a file.">RawFile</a>* GetFile(<a class="code" href="namespaceMezzanine.html#a1a35eea04e090afa5803c92b8be71c67" title="String will provide most of the functionality of std::string but could be implemented in a variety of...">String</a> FileName);
<a name="l00167"></a>00167 <span class="comment"></span>
<a name="l00168"></a>00168 <span class="comment">                /// @brief Retrieve a pointer to file contents in constant time.</span>
<a name="l00169"></a>00169 <span class="comment">                /// @param Index The index of the File Name when it was passed into @ref BeginLoading &quot;BeginLoading&quot;.</span>
<a name="l00170"></a>00170 <span class="comment">                /// @return This returns a null pointer if the correct @ref RawFile cannot be retrieved, otherwise a pointer to the @ref RawFile with index corresponing to the index of a passed in filename is returned.</span>
<a name="l00171"></a>00171 <span class="comment">                /// @warning Do no call this before @ref IsWorkDone() indicates that the work is @ref Complete &quot;Complete&quot;. These memory addresses are subject to change until all loading is complete.</span>
<a name="l00172"></a>00172 <span class="comment"></span>                <a class="code" href="classMezzanine_1_1Threading_1_1RawFile.html" title="A simple in memory representation of a file.">RawFile</a>* GetFile(<a class="code" href="namespaceMezzanine.html#a493d0c130650b4bf1c4f793ba191cec2" title="Whole is an unsigned integer, it will be at least 32bits in size. In general it will be the most effi...">Whole</a> Index);
<a name="l00173"></a>00173 <span class="comment"></span>
<a name="l00174"></a>00174 <span class="comment">                /// @brief This deletes all the loaded files from the last call of @ref BeginLoading &quot;BeginLoading&quot; .</span>
<a name="l00175"></a>00175 <span class="comment"></span>                <span class="keywordtype">void</span> DeleteLoadedFiles();
<a name="l00176"></a>00176         };
<a name="l00177"></a>00177     } <span class="comment">// \Threading</span>
<a name="l00178"></a>00178 }<span class="comment">// \Mezzanine</span>
<a name="l00179"></a>00179 <span class="preprocessor">#endif</span>
</pre></div></div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>
Generated on Sun Jan 13 2013 02:10:50 for DagFrameScheduler by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1</small></address>
</body>
</html>
